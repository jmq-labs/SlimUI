function eLog(a,b){"true"===ELOGS&&$.ajax({async:!0,url:"content/apps/logs/process.php",type:"POST",data:{name:parent.activeUsr,type:a,data:b}})}function SlimAlert(a,b){SlimLockScr(!0,function(){a||(a="- Message not defined!");var c="<br /><input type='button' id='MSG_CONFIRM_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTY+"' />",d="<br /><input type='button' id='MSG_CONFIRM_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTY+"' /><input type='button' id='MSG_CANCEL_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTN+"' />";$(".BLOCK_SCREEN").html("<div class='MSG_WINDOW_CONTAINER'><div class='MSG_WINDOW'><p><label>"+a+"</label></p></div></div>"),parent.eLog("Alert",a),b?($(".MSG_WINDOW").append(d),$("#MSG_CONFIRM_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),$(this).attr("disabled","disabled"),SlimLockScr(!1,b)})):($(".MSG_WINDOW").append(c),$("#MSG_CONFIRM_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),$(this).attr("disabled","disabled"),SlimLockScr(!1)})),$("#MSG_CANCEL_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),SlimLockScr(!1)}),window.scrollTo(0,0),$(".MSG_WINDOW").show("fade",120,function(){$("#MSG_CONFIRM_BT").focus()})})}function SlimLockScr(a,b){if(a){0==$(".BLOCK_SCREEN").length&&($("body").append("<div class='BLOCK_SCREEN'></div>"),$(".BLOCK_SCREEN").height($(document).height()),$(".BLOCK_SCREEN").show("fade",100,function(){$(".MAIN").contents().find("body").addClass("BLUR"),b&&b()}))}else $(".BLOCK_SCREEN").hide("fade",100,function(){$(".MAIN").contents().find("body").removeClass("BLUR"),$(".BLOCK_SCREEN").remove(),b&&b()})}function ReqFields(){$("input[type='submit']").click(function(a){var b=$(this);$("> .REQUIRED, > ._INPUT_TEXT .REQUIRED, > ._TEXT_AREA .REQUIRED, > ._INPUT_TEXT,> table .REQUIRED",b.closest(".CONTENT")).each(function(){($(this).is("input")||$(this).is("textarea")||$(this).is("select"))&&((($(this).is("input")||$(this).is("textarea"))&&!$(this).val()||$(this).is("select")&&!$("option:selected",this).text())&&$(this).is(":visible")&&(a.preventDefault(),$(this).parent().is("div")&&($(this).parent().hasClass("_INPUT_TEXT")||$(this).parent().hasClass("_TEXT_AREA")||$(this).parent().hasClass("_COMBO_BOX"))?$(this).parent().addClass("MISSED"):$(this).addClass("MISSED"),parent.SlimAlert("Debe llenar los campos obligatorios para poder continuar.")),$(this).change(function(){$(this).hasClass("MISSED")&&$(this).removeClass("MISSED"),$(this).parent().hasClass("MISSED")&&$(this).parent().removeClass("MISSED")}))})}),$("form").bind("reset",function(){$("> .REQUIRED, > ._INPUT_TEXT .REQUIRED, > ._INPUT_TEXT, > table .REQUIRED",this).removeClass("MISSED")})}function toggleElement(a,b){switch(b){case!0:$("#"+a).hide();break;case!1:$("#"+a).show()}}$.fn.SlimMenu=function(a,b){$(this).each(function(){$(this).children(".INPUT_BUTTON").SlimButton(),$(this).children().each(function(){$(this).children(".INPUT_BUTTON").SlimButton()}),a||$(this).hasClass("_MENU")||$(this).children(".INPUT_MENU").each(function(){var a="";if($(this).contents("._INPUT_BUTTON").length>0)var a="<div class='MENU_LIST_TITLE _VOID'>"+$(this).contents().get(0).nodeValue;$(this).append("<div class='MENU_LIST'>"+a+"</div>"),$(this).children(".MENU_LIST").append($(this).children()),$(this).children(".MENU_LIST").children().each(function(){$(this).is("span")||$(this).addClass("_VOID")}),$(this).click(function(a){$(".MENU_LIST").hide("fade",100),"SPAN"!=a.target.nodeName&&$(this).children(".MENU_LIST").children().length>0&&$(this).children(".MENU_LIST").toggle("fade",100)}),"MAIN_MENU"==$(this).parent().attr("id")&&$(this).children(".MENU_LIST").each(function(){$(this).click(function(){$(".MAIN").hide()})}),$(this).parent().addClass("_MENU"),$(this).parent().removeClass("MENU"),$(this).hasClass("_VOID")||$(this).addClass("_VOID")}),"SearchList"==a&&($(this).hasClass("_CONTEXT_MENU")||($(this).SlimTextbox(),$(this).append("<div class='MENU_LIST'></div>"),$(this).children(".MENU_LIST").append($(this).children("span")),$(this).children(".MENU_LIST").children("span").each(function(){$(this).click(function(){$(this).parent().parent().children("input").val($(this).html())}),$(this).children().length>0&&($(this).children("span").each(function(){$(this).parent("span").append("<div class='MENU_LIST'></div>"),$(this).parent().children(".MENU_LIST").append($(this).parent().children("span"))}),$(this).children(".MENU_LIST").children("span").click(function(){$(this).parent().parent().parent().parent().children("input").val($(this).html())})),$(this).hover(function(){$(this).children(".MENU_LIST").show()}),$(this).mouseout(function(a){var b=3,c=a.pageX-$(this).parent().position().left,d=a.pageY-$(this).parent().position().top,e=$(this).parent().outerWidth()+$(this).outerWidth(),f=$(this).outerHeight()-b,g=$(this).children(".MENU_LIST").outerHeight()-b,h=$(this).parent().outerWidth(),i=$(this).position().top+b;(c<h&&(d<i||d>i+f)||c<b)&&$(this).children(".MENU_LIST").hide(),(c>h&&(d<i||d>i+g)||c<b)&&$(this).children(".MENU_LIST").hide(),c>e&&$(this).children(".MENU_LIST").hide()})}),$(this).children("input").click(function(){$(this).parent().children(".MENU_LIST").show(),$(this).parent().children(".MENU_LIST").children("span").each(function(){$(this).show()})}),$(this).children("input").keydown(function(a){$(this).parent().children(".MENU_LIST").show(),$(this).parent().children(".MENU_LIST").children("span").each(function(){var a=$(this).parent().parent().children("input").val().toUpperCase();-1==$(this).html().toUpperCase().indexOf(a)?$(this).hide():$(this).show()}),a.which,a.which}),$(this).addClass("_CONTEXT_MENU"),$(this).hasClass("_VOID")||$(this).addClass("_VOID")))})},$.fn.SlimButton=function(a){$(this).each(function(){"Big"==a&&($(this).hasClass("_WIDGET_BUTTON")||($(this).attr("icon")&&$(this).css("background-image","url('"+$(this).attr("icon")+"')"),$(this).attr("title")&&$(this).append("<br /><label>"+$(this).attr("title")+"</label>"),$(this).attr("color")&&$(this).css("background-color",$(this).attr("color")),$(this).addClass("_WIDGET_BUTTON"),$(this).removeClass("WIDGET_BUTTON"),$(this).click(function(){parent.eLog("Input click handler",$(this).attr("id")+" : "+$(this).attr("title"))}))),a||$(this).hasClass("_INPUT_BUTTON")||$(this).each(function(){$(this).attr("icon")&&$(this).css("background-image","url('"+$(this).attr("icon")+"')"),$(this).addClass("_INPUT_BUTTON"),$(this).removeClass("INPUT_BUTTON")})})},$.fn.SlimTextbox=function(){$(this).each(function(){$(this).parent().hasClass("_INPUT_TEXT")||($(this).wrap("<div class='_INPUT_TEXT'></div>"),$(this).removeClass("INPUT_TEXT")),$(this).attr("icon")&&($(this).prepend("<img />"),$(this).children("img").attr("src",$(this).attr("icon")),$(this).children("img").click(function(){$(this).parent().children("input").trigger("click")})),$(this).children("input, img").hasClass("_VOID")||$(this).children("input, img").addClass("_VOID")}),$("input").click(function(){parent.eLog("Input click handler",$(this).attr("id")+" : "+$(this).val())}),$(":text").change(function(){parent.eLog("Text change handler",$(this).attr("id")+" : "+$(this).val())})},$.fn.SlimTextArea=function(){$(this).each(function(){!$(this).parent().hasClass("TEXT_AREA")&&$(this).is("textarea")&&($(this).wrap("<div class='_TEXT_AREA'></div>"),$(this).removeClass("TEXT_AREA"))}),$("input, textarea").focusin(function(){$(".MENU_LIST").hide("fade",100)})},$.fn.SlimComboBox=function(){$(this).each(function(){$(this).hasClass("COMBO_BOX")&&($(this).removeClass("COMBO_BOX"),$(this).addClass("_COMBO_BOX"))}),$("select").change(function(){parent.eLog("Combobox change handler",$(this).attr("id")+" : "+$(this).val())})},$.fn.SlimCheckbox=function(){$(this).each(function(){$(this).hasClass("_CHECKBOX")||$(this).each(function(){$(this).children("input").length<1&&$(this).html("<input id='INPUT_"+$(this).prop("id")+"' name='INPUT_"+$(this).prop("id")+"' type='checkbox' /><label for='INPUT_"+$(this).prop("id")+"'>"+$(this).prop("title")+"</label>"),$(this).addClass("_CHECKBOX"),$(this).removeClass("CHECKBOX")})})},$.fn.SlimRadio=function(){$(this).each(function(){$(this).hasClass("_RADIO")||$(".RADIO").each(function(){$(this).children("input").length<1&&($(this).html("<input id='INPUT_"+$(this).prop("id")+"' name='INPUT_"+$(this).attr("name")+"' value='"+$(this).attr("value")+"' type='radio' /><label for='INPUT_"+$(this).prop("id")+"'>"+$(this).prop("title")+"</label>"),$(this).addClass("_RADIO"),$(this).removeClass("RADIO"))})})},$.fn.SlimContentLoad=function(){$(this).each(function(){$(this).hasClass("_CONTENT")||$(this).each(function(){$(this).attr("SRC")&&$(this).load($(this).attr("SRC")),$(this).addClass("_CONTENT")})})},$.fn.SlimFrame=function(){$(this).each(function(){$(this).hasClass("_CONTENT")||$(this).each(function(){$(this).prop("title")&&($(this).prepend("<label class='CONTENT_TITLE'>"+$(this).prop("title")+"</label>"),$(this).css("margin-top",10)),$(this).attr("title",""),$(this).addClass("_FRAME"),$(this).removeClass("FRAME")})})},$.fn.SlimColorPicker=function(){$(this).each(function(){if(!$(this).hasClass("_COLOR_PICKER")){var a=$("._COLOR_PICKER").length;0==$(this).children("input").length&&$(this).append("<input type='hidden' id='COLORPICKER"+a+"' name='COLORPICKER"+a+"' ></input> "),$(this).children(".COLOR_BOX").each(function(){$(this).click(function(){$(this).parent().children(".COLOR_BOX").removeClass("COLOR_SELECTED"),$(this).parent().children("input").val($(this).css("background-color")),$(this).animate({opacity:0},50).toggleClass("COLOR_SELECTED").animate({opacity:1},50)})}),$(this).addClass("_COLOR_PICKER"),$(this).removeClass("COLOR_PICKER")}})},$(window).resize(function(){$(".MAIN_DIV").css("height",window.innerHeight-$("#MAIN_MENU").outerHeight())});