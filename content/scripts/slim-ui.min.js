function eLog(t,i){"true"===ELOGS&&$.ajax({async:!0,url:"content/apps/logs/process.php",type:"POST",data:{name:parent.activeUsr,type:t,data:i}})}function SlimAlert(t,i){SlimLockScr(!0,function(){t||(t="- Message not defined!");var s="<br /><input type='button' id='MSG_CONFIRM_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTY+"' />",e="<br /><input type='button' id='MSG_CONFIRM_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTY+"' /><input type='button' id='MSG_CANCEL_BT' class='_INPUT_BUTTON' value='"+LANG_MAIN_CLOSESESSIONMSGBTN+"' />";$(".BLOCK_SCREEN").html("<div class='MSG_WINDOW_CONTAINER'><div class='MSG_WINDOW'><p><label>"+t+"</label></p></div></div>"),parent.eLog("Alert",t),i?($(".MSG_WINDOW").append(e),$("#MSG_CONFIRM_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),$(this).attr("disabled","disabled"),SlimLockScr(!1,i)})):($(".MSG_WINDOW").append(s),$("#MSG_CONFIRM_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),$(this).attr("disabled","disabled"),SlimLockScr(!1)})),$("#MSG_CANCEL_BT").click(function(){parent.eLog("Alert Callback",$(this).attr("id")+" : "+$(this).val()),SlimLockScr(!1)}),window.scrollTo(0,0),$(".MSG_WINDOW").show("fade",120,function(){$("#MSG_CONFIRM_BT").focus()})})}function SlimLockScr(t,i){if(t){var s="<div class='BLOCK_SCREEN'></div>";0==$(".BLOCK_SCREEN").length&&($("body").append(s),$(".BLOCK_SCREEN").height($(document).height()),$(".BLOCK_SCREEN").show("fade",100,function(){$(".MAIN").contents().find("body").addClass("BLUR"),i&&i()}))}else $(".BLOCK_SCREEN").hide("fade",100,function(){$(".MAIN").contents().find("body").removeClass("BLUR"),$(".BLOCK_SCREEN").remove(),i&&i()})}function ReqFields(){$("form").submit(function(t){var i=$("form").find("input[type=submit]:focus");$("> .REQUIRED, > ._INPUT_TEXT .REQUIRED, > ._TEXT_AREA .REQUIRED, > ._INPUT_TEXT,> table .REQUIRED",i.closest(".CONTENT")).each(function(){($(this).is("input")||$(this).is("textarea")||$(this).is("select"))&&((($(this).is("input")||$(this).is("textarea"))&&!$(this).val()||$(this).is("select")&&!$("option:selected",this).text())&&$(this).is(":visible")&&(t.preventDefault(),$(this).parent().is("div")&&($(this).parent().hasClass("_INPUT_TEXT")||$(this).parent().hasClass("_TEXT_AREA")||$(this).parent().hasClass("_COMBO_BOX"))?$(this).parent().addClass("MISSED"):$(this).addClass("MISSED"),parent.SlimAlert("Debe llenar los campos obligatorios para poder continuar.")),$(this).change(function(){$(this).hasClass("MISSED")&&$(this).removeClass("MISSED"),$(this).parent().hasClass("MISSED")&&$(this).parent().removeClass("MISSED")}))})}),$("form").bind("reset",function(){$("> .REQUIRED, > ._INPUT_TEXT .REQUIRED, > ._INPUT_TEXT, > table .REQUIRED",this).removeClass("MISSED")})}function DP_endDate(t,i){i.datepicker("destroy"),i.datepicker().datepicker("option",{minDate:t.val(),dateFormat:"dd-mm-yy"}),i.datepicker("refresh")}function toggleElement(t,i){switch(i){case!0:$("#"+t).hide();break;case!1:$("#"+t).show()}}$.fn.SlimMenu=function(t){$(this).each(function(){$(this).children(".INPUT_BUTTON").SlimButton(),$(this).children().each(function(){$(this).children(".INPUT_BUTTON").SlimButton()}),t||$(this).hasClass("_MENU")||$(this).children(".INPUT_MENU").each(function(){var t="";if($(this).contents("._INPUT_BUTTON").length>0)var t="<div class='MENU_LIST_TITLE _VOID'>"+$(this).contents().get(0).nodeValue;$(this).append("<div class='MENU_LIST'>"+t+"</div>"),$(this).children(".MENU_LIST").append($(this).children()),$(this).children(".MENU_LIST").children().each(function(){$(this).is("span")||$(this).addClass("_VOID")}),$(this).click(function(t){$(".MENU_LIST").hide("fade",100),"SPAN"!=t.target.nodeName&&$(this).children(".MENU_LIST").children().length>0&&$(this).children(".MENU_LIST").toggle("fade",100)}),"MAIN_MENU"==$(this).parent().attr("id")&&$(this).children(".MENU_LIST").each(function(){$(this).click(function(){$(".MAIN").hide()})}),$(this).parent().addClass("_MENU"),$(this).parent().removeClass("MENU"),$(this).hasClass("_VOID")||$(this).addClass("_VOID")}),"SearchList"==t&&($(this).hasClass("_CONTEXT_MENU")||($(this).SlimTextbox(),$(this).append("<div class='MENU_LIST'></div>"),$(this).children(".MENU_LIST").append($(this).children("span")),$(this).children(".MENU_LIST").children("span").each(function(){$(this).click(function(){$(this).parent().parent().children("input").val($(this).html())}),$(this).children().length>0&&($(this).children("span").each(function(){$(this).parent("span").append("<div class='MENU_LIST'></div>"),$(this).parent().children(".MENU_LIST").append($(this).parent().children("span"))}),$(this).children(".MENU_LIST").children("span").click(function(){$(this).parent().parent().parent().parent().children("input").val($(this).html())})),$(this).hover(function(){$(this).children(".MENU_LIST").show()}),$(this).mouseout(function(t){var i=3,s=t.pageX-$(this).parent().position().left,e=t.pageY-$(this).parent().position().top,n=$(this).parent().outerWidth()+$(this).outerWidth(),h=$(this).outerHeight()-i,a=$(this).children(".MENU_LIST").outerHeight()-i,l=$(this).parent().outerWidth(),c=$(this).position().top+i;(l>s&&(c>e||e>c+h)||i>s)&&$(this).children(".MENU_LIST").hide(),(s>l&&(c>e||e>c+a)||i>s)&&$(this).children(".MENU_LIST").hide(),s>n&&$(this).children(".MENU_LIST").hide()})}),$(this).children("input").click(function(){$(this).parent().children(".MENU_LIST").show(),$(this).parent().children(".MENU_LIST").children("span").each(function(){$(this).show()})}),$(this).children("input").keydown(function(t){$(this).parent().children(".MENU_LIST").show(),$(this).parent().children(".MENU_LIST").children("span").each(function(){var t=$(this).parent().parent().children("input").val().toUpperCase(),i=$(this).html().toUpperCase();-1==i.indexOf(t)?$(this).hide():$(this).show()}),40==t.which,38==t.which}),$(this).addClass("_CONTEXT_MENU"),$(this).hasClass("_VOID")||$(this).addClass("_VOID")))})},$.fn.SlimButton=function(t){$(this).each(function(){"Big"==t&&($(this).hasClass("_WIDGET_BUTTON")||($(this).attr("icon")&&$(this).css("background-image","url('"+$(this).attr("icon")+"')"),$(this).attr("title")&&$(this).append("<br /><label>"+$(this).attr("title")+"</label>"),$(this).attr("color")&&$(this).css("background-color",$(this).attr("color")),$(this).addClass("_WIDGET_BUTTON"),$(this).removeClass("WIDGET_BUTTON"),$(this).click(function(){parent.eLog("Input click handler",$(this).attr("id")+" : "+$(this).attr("title"))}))),t||$(this).hasClass("_INPUT_BUTTON")||$(this).each(function(){$(this).attr("icon")&&$(this).css("background-image","url('"+$(this).attr("icon")+"')"),$(this).addClass("_INPUT_BUTTON"),$(this).removeClass("INPUT_BUTTON")})})},$.fn.SlimTextbox=function(){$(this).each(function(){$(this).parent().hasClass("_INPUT_TEXT")||($(this).wrap("<div class='_INPUT_TEXT'></div>"),$(this).removeClass("INPUT_TEXT")),$(this).attr("icon")&&($(this).prepend("<img />"),$(this).children("img").attr("src",$(this).attr("icon")),$(this).children("img").click(function(){$(this).parent().children("input").trigger("click")})),$(this).children("input, img").hasClass("_VOID")||$(this).children("input, img").addClass("_VOID")}),$("input").click(function(){parent.eLog("Input click handler",$(this).attr("id")+" : "+$(this).val())}),$(":text").change(function(){parent.eLog("Text change handler",$(this).attr("id")+" : "+$(this).val())})},$.fn.SlimTextArea=function(){$(this).each(function(){!$(this).parent().hasClass("TEXT_AREA")&&$(this).is("textarea")&&($(this).wrap("<div class='_TEXT_AREA'></div>"),$(this).removeClass("TEXT_AREA"))}),$("input, textarea").focusin(function(){$(".MENU_LIST").hide("fade",100)})},$.fn.SlimComboBox=function(){$(this).each(function(){$(this).hasClass("COMBO_BOX")&&($(this).removeClass("COMBO_BOX"),$(this).addClass("_COMBO_BOX"))}),$("select").change(function(){parent.eLog("Combobox change handler",$(this).attr("id")+" : "+$(this).val())})},$.fn.SlimCheckbox=function(){$(this).each(function(){$(this).hasClass("_CHECKBOX")||$(this).each(function(){$(this).children("input").length<1&&$(this).html("<input id='INPUT_"+$(this).prop("id")+"' name='INPUT_"+$(this).prop("id")+"' type='checkbox' /><label for='INPUT_"+$(this).prop("id")+"'>"+$(this).prop("title")+"</label>"),$(this).addClass("_CHECKBOX"),$(this).removeClass("CHECKBOX")})})},$.fn.SlimRadio=function(){$(this).each(function(){$(this).hasClass("_RADIO")||$(".RADIO").each(function(){$(this).children("input").length<1&&($(this).html("<input id='INPUT_"+$(this).prop("id")+"' name='INPUT_"+$(this).attr("name")+"' value='"+$(this).attr("value")+"' type='radio' /><label for='INPUT_"+$(this).prop("id")+"'>"+$(this).prop("title")+"</label>"),$(this).addClass("_RADIO"),$(this).removeClass("RADIO"))})})},$.fn.SlimContentLoad=function(){$(this).each(function(){$(this).hasClass("_CONTENT")||$(this).each(function(){$(this).attr("SRC")&&$(this).load($(this).attr("SRC")),$(this).addClass("_CONTENT")})})},$.fn.SlimFrame=function(){$(this).each(function(){$(this).hasClass("_CONTENT")||$(this).each(function(){$(this).prop("title")&&($(this).prepend("<label class='CONTENT_TITLE'>"+$(this).prop("title")+"</label>"),$(this).css("margin-top",10)),$(this).attr("title",""),$(this).addClass("_FRAME"),$(this).removeClass("FRAME")})})},$.fn.SlimColorPicker=function(){$(this).each(function(){if(!$(this).hasClass("_COLOR_PICKER")){var t=$("._COLOR_PICKER").length;0==$(this).children("input").length&&$(this).append("<input type='hidden' id='COLORPICKER"+t+"' name='COLORPICKER"+t+"' ></input> "),$(this).children(".COLOR_BOX").each(function(){$(this).click(function(){$(this).parent().children(".COLOR_BOX").removeClass("COLOR_SELECTED"),$(this).parent().children("input").val($(this).css("background-color")),$(this).animate({opacity:0},50).toggleClass("COLOR_SELECTED").animate({opacity:1},50)})}),$(this).addClass("_COLOR_PICKER"),$(this).removeClass("COLOR_PICKER")}})},$(window).resize(function(){$(".MAIN_DIV").css("height",window.innerHeight-$("#MAIN_MENU").outerHeight())});